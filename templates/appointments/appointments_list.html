{% extends "base.html" %}
{% block title %} Apointment List {% endblock %}

{% block body %}

<div class="px-4">
	<h3>Appointments List</h3>
</div>

{% include './appointment_list_utility_bar.html' %}

<div class="p-3">
	<table class="table table-hover bg-light bg-gradient rounded shadow">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">Patient</th>
				<th scope="col">Doctor</th>
				<th scope="col">Date</th>
				<th scope="col">Time</th>
				<th scope="col">Details</th>
			</tr>
		</thead>
		<tbody>
			{% for appointment in appointments %}
			<tr>
				<td>{{ appointment.id }}</td>
				<td style="text-transform: capitalize;">
					{{ appointment.patient.first_name }} {{ appointment.patient.last_name }}
				</td>
				<td style="text-transform: capitalize;">
					{{ appointment.doctor.first_name }} {{ appointment.doctor.last_name }}
				</td>
				<td>{{ appointment.date }}</td>
				<td>{{ appointment.time }}</td>
				<td>
					<a href="{% url 'appointment' appointment.id %}" class="btn btn-sm btn-outline-secondary">
						<i class="fas fa-eye me-2"></i>
						View
					</a>
				</td>
			</tr>
			{% empty %}
			<div class="alert alert-warning" role="alert">
				<h4 class="mx-2">No Appointments Found</h4>
				<a href="/appointments" class="btn btn-secondary mx-2" role="button">View All Appointments</a>
			</div>
			{% endfor %}
		</tbody>
	</table>
</div>

{% endblock %}